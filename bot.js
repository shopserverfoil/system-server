const Discord = require('discord.js');
const client = new Discord.Client();

client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}!`);
});

client.on('message', msg => {
  if (msg.content === 'ping') {
    msg.reply('Pong!');
  }
});


var ss = 0;

client.on('voiceStateUpdate', (o,n) => {
    if (o.voiceChannel && !n.voiceChannel) {
        ss-=1
        n.guild.channels.get("489800301021233163").edit({
            name : "4 EVER Online : [" + ss+ "]"
        })
    };
    if (n.voiceChannel && !o.voiceChannel) {
        ss+=1
        n.guild.channels.get("489800301021233163").edit({
            name : "4EVER Online : [" + ss+ "]"
        })
    }
})
client.on("ready", () => {
    client.guilds.get("483960386693890058").members.forEach(m => {
        if (m.voiceChannel) {
            ss+=1
        };
        client.channels.get("489800301021233163").edit({
            name : "4 EVER Online : [" + ss+ "]"
        })
    });
    client.user.setGame(" CommunityÂ©", "https://twitch.tv/Â©");
});





client.on('message', message=> {
    if (message.author.bot) return;
    if (message.isMentioned(client.user))
    {
    message.reply("** :poop:  ØµÙŠØ§Ù†Ø© Ù…ØªÙÙ‡Ù… Ø§Ù†Øª ÙƒÙ„ Ø²Ù‚**");
    }
});


client.on('message', message => {
    if(message.channel.type === 'dm') {
        var guildID = '483960386693890058'; // <=============== Ø§ÙŠØ¯ÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø­Ù‚Ùƒ
        if(message.content.includes('discord.gg/')) {
            var member = client.guilds.find(g => g.id === guildID).members.find(m => m.id === message.author.id);
            member.ban({ reason: 'ADS In Private.' }).catch();
        }
    }
});




client.on('message', msg => {
  if (msg.content === 'Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©') {      
    msg.react("ğŸ‡¸ğŸ‡¦")
    msg.channel.send("ğŸ‡¸ğŸ‡¦")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ù…ØµØ±') {      
    msg.react("ğŸ‡ªğŸ‡¬")
    msg.channel.send("ğŸ‡ªğŸ‡¬")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ø§Ù„Ù…ØºØ±Ø¨') {      
    msg.react("ğŸ‡²ğŸ‡¦")
    msg.channel.send("ğŸ‡²ğŸ‡¦")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ø§Ù„Ø¹Ø±Ø§Ù‚') {      
    msg.react("ğŸ‡®ğŸ‡¶")
    msg.channel.send("ğŸ‡®ğŸ‡¶")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±') {      
    msg.react("ğŸ‡©ğŸ‡¿")
    msg.channel.send("ğŸ‡©ğŸ‡¿")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ø§Ù„Ø§Ù…Ø§Ø±Ø§Øª') {      
    msg.react("ğŸ‡¦ğŸ‡ª")
    msg.channel.send("ğŸ‡¦ğŸ‡ª")
  }
});

client.on('message', msg => {
  if (msg.content === 'ØªÙˆÙ†Ø³') {      
    msg.react("ğŸ‡¹ğŸ‡³")
    msg.channel.send("ğŸ‡¹ğŸ‡³")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ø³ÙˆØ±ÙŠØ§') {      
    msg.react("ğŸ‡¸ğŸ‡¾")
    msg.channel.send("ğŸ‡¸ğŸ‡¾")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ù„ÙŠØ¨ÙŠØ§') {      
    msg.react("ğŸ‡±ğŸ‡¾")
    msg.channel.send("ğŸ‡±ğŸ‡¾")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ù‚Ø·Ø±') {      
    msg.react("ğŸ‡¶ğŸ‡¦")
    msg.channel.send("ğŸ‡¶ğŸ‡¦")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ø§Ù„ØµÙˆÙ…Ø§Ù„') {      
    msg.react("ğŸ‡¸ğŸ‡´")
    msg.channel.send("ğŸ‡¸ğŸ‡´")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ø¹Ù…Ø§Ù†') {      
    msg.react("ğŸ‡´ğŸ‡²")
    msg.channel.send("ğŸ‡´ğŸ‡²")
  }
});

client.on('message', msg => {
  if (msg.content === 'Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§') {      
    msg.react("ğŸ‡²ğŸ‡·")
    msg.channel.send("ğŸ‡²ğŸ‡·")
  }
});





client.on('message', message => {
    var prefix = "";
   if(!message.channel.guild) return;
if(message.content.startsWith(prefix + 'Ù…Ø³Ø­')) {
if(!message.channel.guild) return message.channel.send('**This Command is Just For Servers**').then(m => m.delete(5000));
if(!message.member.hasPermission('MANAGE_MESSAGES')) return      message.channel.send('**You Do not have permission** `MANAGE_MESSAGES`' );
let args = message.content.split(" ").join(" ").slice(2 + prefix.length);
let request = `Requested By ${message.author.username}`;
message.channel.send(`**Are You sure you want to clear the chat?**`).then(msg => {
msg.react('âœ…')
.then(() => msg.react('âŒ'))
.then(() =>msg.react('âœ…'))

let reaction1Filter = (reaction, user) => reaction.emoji.name === 'âœ…' && user.id === message.author.id;
let reaction2Filter = (reaction, user) => reaction.emoji.name === 'âŒ' && user.id === message.author.id;

let reaction1 = msg.createReactionCollector(reaction1Filter, { time: 12000 });
let reaction2 = msg.createReactionCollector(reaction2Filter, { time: 12000 });
reaction1.on("collect", r => {
message.channel.send(`Chat will delete`).then(m => m.delete(5000));
var msg;
        msg = parseInt();

      message.channel.fetchMessages({limit: msg}).then(messages => message.channel.bulkDelete(messages)).catch(console.error);
      message.channel.sendMessage("", {embed: {
        title: "`` Chat Deleted ``",
        color: 0x06DF00,
        footer: {

        }
      }}).then(msg => {msg.delete(3000)});

})
reaction2.on("collect", r => {
message.channel.send(`**Chat deletion cancelled**`).then(m => m.delete(5000));
msg.delete();
})
})
}
});





client.on('message', message => {  
if (message.author.boss) return;
;
if (!message.content.startsWith(prefix)) return;
let command = message.content.split(" ")[0];
command = command.slice(prefix.length);
let args = message.content.split(" ").slice(1);
if (command == "Ø§Ø³ÙƒØª") {
if (!message.channel.guild) return;
if(!message.guild.member(message.author).hasPermission("MANAGE_MESSAGES")) return message.reply("Ø§Ù†Øª Ù„Ø§ ØªÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ§Øª !! ").then(msg => msg.delete(5000));
if(!message.guild.member(client.user).hasPermission("MANAGE_MESSAGES")) return message.reply("Ø§Ù„Ø¨ÙˆØª Ù„Ø§ÙŠÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ§Øª ").then(msg => msg.delete(5000));;
let user = message.mentions.users.first();
let muteRole = message.guild.roles.find("name", "Muted");
if (!muteRole) return message.reply("** Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±ØªØ¨Ø© Ø§Ù„Ù…ÙŠÙˆØª 'Muted' **").then(msg => {msg.delete(5000)});
if (message.mentions.users.size < 1) return message.reply('** ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù„Ù…Ù†Ø´Ù† Ø§ÙˆÙ„Ø§Ù‹ **').then(msg => {msg.delete(5000)});
let reason = message.content.split(" ").slice(2).join(" ");
message.guild.member(user).addRole(muteRole);
const muteembed = new Discord.RichEmbed()
.setColor("RANDOM")
.setAuthor(`Muted!`, user.displayAvatarURL)
.setThumbnail(user.displayAvatarURL)
.addField("**:busts_in_silhouette:  Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**",  '**[ ' + `${user.tag}` + ' ]**',true)
.addField("**:hammer:  ØªÙ… Ø¨ÙˆØ§Ø³Ø·Ø© **", '**[ ' + `${message.author.tag}` + ' ]**',true)
.addField("**:book:  Ø§Ù„Ø³Ø¨Ø¨**", '**[ ' + `${reason}` + ' ]**',true)
.addField("User", user, true)  
message.channel.send({embed : muteembed});
var muteembeddm = new Discord.RichEmbed()
.setAuthor(`Muted!`, user.displayAvatarURL)
.setDescription(`
${user} Ø§Ù†Øª Ù…Ø¹Ø§Ù‚Ø¨ Ø¨Ù…ÙŠÙˆØª ÙƒØªØ§Ø¨ÙŠ Ø¨Ø³Ø¨Ø¨ Ù…Ø®Ø§Ù„ÙØ© Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†
 
 ${message.author.tag} ØªÙ…Øª Ù…Ø¹Ø§Ù‚Ø¨ØªÙƒ Ø¨ÙˆØ§Ø³Ø·Ø©
 
[ ${reason} ] : Ø§Ù„Ø³Ø¨Ø¨
 
Ø§Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¹Ù‚ÙˆØ¨Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø®Ø·Ø£ ØªÙƒÙ„Ù… Ù…Ø¹ Ø§Ù„Ù…Ø³Ø¤Ù„ÙŠÙ†
`)
.setFooter(`ÙÙŠ Ø³ÙŠØ±ÙØ± : ${message.guild.name}`)
.setColor("RANDOM")
 user.send( muteembeddm);
}
if (command == "ØªÙƒÙ„Ù…") {
if (!message.channel.guild) return;
if(!message.guild.member(message.author).hasPermission("MANAGE_MESSAGES")) return message.reply("Ø§Ù†ØªØ§ Ù„Ø§ ØªÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ§Øª").then(msg => msg.delete(5000));
if(!message.guild.member(client.user).hasPermission("MANAGE_MESSAGES")) return message.reply("Ø§Ù„Ø¨ÙˆØª Ù„Ø§ÙŠÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ§Øª ").then(msg => msg.delete(5000));;
let user = message.mentions.users.first();
let muteRole = message.guild.roles.find("name", "Muted");
if (!muteRole) return message.reply("** Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±ØªØ¨Ø© Ø§Ù„Ù…ÙŠÙˆØª 'Muted' **").then(msg => {msg.delete(5000)});
if (message.mentions.users.size < 1) return message.reply('** ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù„Ù…Ù†Ø´Ù† Ø§ÙˆÙ„Ø§Ù‹ **').then(msg => {msg.delete(5000)});
let reason = message.content.split(" ").slice(2).join(" ");
message.guild.member(user).removeRole(muteRole);
const unmuteembed = new Discord.RichEmbed()
.setColor("RANDOM")
.setAuthor(`UnMute!`, user.displayAvatarURL)
.setThumbnail(user.displayAvatarURL)
.addField("**:busts_in_silhouette:  Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**",  '**[ ' + `${user.tag}` + ' ]**',true)
.addField("**:hammer:  ØªÙ… Ø¨ÙˆØ§Ø³Ø·Ø© **", '**[ ' + `${message.author.tag}` + ' ]**',true)
.addField("**:book:  Ø§Ù„Ø³Ø¨Ø¨**", '**[ ' + `${reason}` + ' ]**',true)
.addField("User", user, true)  
message.channel.send({embed : unmuteembed}).then(msg => msg.delete(5000));
var unmuteembeddm = new Discord.RichEmbed()
.setDescription(`ØªÙ… ÙÙƒ Ø§Ù„Ù…ÙŠÙˆØª Ø¹Ù†Ùƒ ${user}`)
.setAuthor(`UnMute!`, user.displayAvatarURL)
.setColor("RANDOM")
  user.send( unmuteembeddm);
}
});






client.login(process.env.BOT_TOKEN);
